{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./GraphQLDefinitions.ts","webpack:///./LoginComponent.tsx","webpack:///./utils.ts","webpack:///./ShoppingListComponent.tsx","webpack:///./ShoppingListItemComponent.tsx","webpack:///./EditableShoppingListComponent.tsx","webpack:///./ShoppingListBoard.tsx","webpack:///./index.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","GET_ITEMS","CREATE_ITEM","DELETE_ITEM","UPDATEM_ITEMS","CLEAR_LIST","LOGIN","SHOPPING_LIST_CHANGED","LoginComponent","props","username","setUserName","password","setPassword","loginError","setLoginError","onCompleted","login","success","onLoginSuccess","message","fetchPolicy","doLogin","loading","credentialsEmpty","variables","justify","align","style","height","labelCol","span","wrapperCol","Item","label","required","validateStatus","hasFeedback","onChange","event","target","onPressEnter","disabled","help","Password","offset","type","onClick","omitTypename","item","copy","__typename","parseUserIdFromCookieString","cookieString","logInCookieKeyIndex","indexOf","logInCookieKeyValueSeperatorIndex","userIdStart","userIdEnd","substring","trim","ShoppingListFilter","ShoppingListItemComponent","assigneeCandidates","array","set","Set","element","has","add","unique","filter","e","deletingItem","setDeletingItem","newAssignee","setNewAssignee","showNewAssigneeSelection","setShowNewAssigneeSelection","handleAssigneeSelectionOk","onItemAssigneeChange","handleAssigneeSelectionCancel","className","_id","textDecoration","checked","onItemCheckedChange","marginRight","assignee","stopPropagation","size","onItemDeleted","DeleteFilled","alt","title","visible","okButtonProps","onOk","onCancel","footer","danger","dataSource","split","renderItem","placeholder","filteredList","shoppingList","all","unchecked","description","image","ShoppingOutlined","fontSize","newItemName","setNewItemName","creatingItem","setCreatingItem","map","createNewItem","onCreateNewItem","gutter","xs","sm","md","lg","xl","width","TabPane","handleApolloError","error","onAuthenticationError","graphQLErrors","find","extensions","code","notification","networkError","onError","loadingShoppingListItems","shoppingListData","numberOfShoppingListItems","shoppingListItems","newItemCreatedRef","mainTabContentRef","createItem","update","cache","createdItem","createShoppingListItem","cachedList","readQuery","query","current","writeQuery","items","getElementsByClassName","scrollIntoView","behavior","updateItems","deleteItem","deletedItemId","deleteShoppingListItem","clearList","onSubscriptionData","options","subscriptionData","changeEvents","shoppingListChanged","client","updatedList","changeEvent","existingItemIndex","findIndex","userId","skip","activeList","itemsGroupedByAssignee","keyMapper","valueMapper","Map","valueList","groupBy","assigneeShoppingLists","Array","from","entries","handleUpdateItems","updatedItems","optimisticResponse","updateShoppingListItems","handleItemCheckedStateChange","handleItemDeleted","id","activeTabKey","setActiveTabKey","activeFilter","setActiveFilter","renderListHeader","Group","buttonStyle","Button","ShoppingCartOutlined","CheckSquareOutlined","BorderOutlined","renderMenuButton","setShowMenu","MenuOutlined","showMenu","src","subTitle","extra","spinning","tip","wrapperClassName","defaultActiveKey","activeKey","animated","tab","ref","assigneeShoppingList","closable","onClose","selectable","UsergroupDeleteOutlined","confirm","okText","cancelText","icon","color","okType","DeleteOutlined","CloseOutlined","websocketUri","location","protocol","host","httpLink","uri","wsLink","reconnect","splitLink","definition","kind","operation","link","delay","initial","max","jitter","attempts","Infinity","retryIf","operationName","ShoppingListApp","document","cookie","loggedIn","setLoggedIn","setUserId","history","path","replace","render","to","pathname","state","StrictMode","getElementById"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([312,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import gql from \"graphql-tag\";\nimport { ShoppingListItem } from \"./ShoppingListItem\";\n\ninterface GraphQlResponse<T> {\n  success: boolean;\n  message: string;\n  data?: T;\n}\n\nexport const GET_ITEMS = gql`\n  query shoppingListItems {\n    shoppingListItems {\n      _id\n      name\n      checked\n      assignee\n    }\n  }\n`;\n\nexport interface ShoppingListItemsData {\n  shoppingListItems: ShoppingListItem[];\n}\n\nexport const CREATE_ITEM = gql`\n  mutation createShoppingListItem($name: String!) {\n    createShoppingListItem(name: $name) {\n      _id\n      name\n      checked\n      assignee\n    }\n  }\n`;\n\nexport interface CreateShoppingListItemData {\n  createShoppingListItem: ShoppingListItem;\n}\n\nexport const DELETE_ITEM = gql`\n  mutation deleteItem($id: ID!) {\n    deleteShoppingListItem(id: $id)\n  }\n`;\n\nexport interface DeleteShoppingListItemData {\n  deleteShoppingListItem: string;\n}\n\nexport const UPDATEM_ITEMS = gql`\n  mutation updateItems($items: [ShoppingListItemInput!]!) {\n    updateShoppingListItems(items: $items) {\n      _id\n      name\n      checked\n      assignee\n    }\n  }\n`;\n\nexport interface UpdateItemData {\n  __typename?: string;\n  updateShoppingListItems: ShoppingListItem[];\n}\n\nexport interface UpdateItemVariables {\n  items: ShoppingListItem[];\n}\n\nexport const CLEAR_LIST = gql`\n  mutation clearList {\n    clearShoppingList\n  }\n`;\n\nexport interface ClearShoppingListData {\n  clearShoppingList: boolean;\n}\n\nexport const LOGIN = gql`\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      data\n      success\n      message\n    }\n  }\n`;\n\nexport interface LoginData {\n  login: GraphQlResponse<string>;\n}\n\nexport interface LoginVariables {\n  username: string;\n  password: string;\n}\n\nexport const SHOPPING_LIST_CHANGED = gql`\n  subscription shoppingListChanged($userId: String!) {\n    shoppingListChanged(userId: $userId) {\n      item {\n        _id\n        assignee\n        checked\n        name\n      }\n      type\n    }\n  }\n`;\n\nexport interface ShoppingListChangedEvent {\n  type: string;\n  item: ShoppingListItem;\n}\n\nexport interface ShoppingListChangedVariables {\n  userId: string;\n}\n\nexport interface ShoppingListChangedData {\n  shoppingListChanged: ShoppingListChangedEvent[];\n}\n","import { useMutation } from \"@apollo/react-hooks\";\nimport { Button, Col, Form, Input, Row } from \"antd\";\nimport React, { useState } from \"react\";\nimport { LOGIN, LoginData, LoginVariables } from \"./GraphQLDefinitions\";\n\nexport interface LoginComponentProps {\n  onLoginSuccess: (userId: string) => void;\n}\n\nexport default function LoginComponent(props: LoginComponentProps) {\n  const [username, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginError, setLoginError] = useState(\"\");\n\n  const [doLogin, { loading }] = useMutation<LoginData, LoginVariables>(LOGIN, {\n    onCompleted: data => {\n      if (data.login.success) {\n        setLoginError(\"\");\n        props.onLoginSuccess(data.login.data as string);\n      } else {\n        setLoginError(data.login.message);\n      }\n    },\n    fetchPolicy: \"no-cache\"\n  });\n\n  const credentialsEmpty = username === \"\" || password === \"\";\n\n  const login = () => {\n    if (credentialsEmpty) {\n      return;\n    }\n    doLogin({ variables: { username, password } });\n  };\n\n  return (\n    <Row justify={\"center\"} align={\"middle\"} style={{ height: \"100%\" }}>\n      <Col>\n        <Form labelCol={{ span: 8 }} wrapperCol={{ span: 16 }}>\n          <Form.Item label={\"Nutzername:\"} required={true} validateStatus={loginError ? \"error\" : \"\"} hasFeedback>\n            <Input\n              onChange={event => setUserName(event.target.value)}\n              value={username}\n              onPressEnter={login}\n              disabled={loading}\n            />\n          </Form.Item>\n          <Form.Item\n            label={\"Kennwort:\"}\n            required={true}\n            help={loginError}\n            validateStatus={loginError ? \"error\" : \"\"}\n            hasFeedback\n          >\n            <Input.Password\n              onChange={event => setPassword(event.target.value)}\n              value={password}\n              onPressEnter={login}\n              disabled={loading}\n            />\n          </Form.Item>\n          <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\n            <Button type=\"primary\" onClick={login} disabled={credentialsEmpty || loading} loading={loading}>\n              Anmelden\n            </Button>\n          </Form.Item>\n        </Form>\n      </Col>\n    </Row>\n  );\n}\n","import { ShoppingListItem } from \"./ShoppingListItem\";\n\nexport function unique<T>(array: T[]): T[] {\n  const set = new Set<T>();\n  const result: T[] = [];\n\n  for (const element of array) {\n    if (!set.has(element)) {\n      result.push(element);\n      set.add(element);\n    }\n  }\n\n  return result;\n}\n\nexport function groupBy<K, V, T>(array: T[], keyMapper: (item: T) => K, valueMapper: (item: T) => V): Map<K, V[]> {\n  const map = new Map<K, V[]>();\n\n  for (const item of array) {\n    const key = keyMapper(item);\n    const value = valueMapper(item);\n\n    const valueList = map.get(key);\n\n    if (valueList) {\n      valueList.push(value);\n    } else {\n      map.set(key, [value]);\n    }\n  }\n\n  return map;\n}\n\nexport function omitTypename(item: ShoppingListItem): ShoppingListItem {\n  const copy = { ...item };\n\n  delete copy.__typename;\n\n  return copy;\n}\n\nexport function omitTypenames(items: ShoppingListItem[]): ShoppingListItem[] {\n  return items.map(omitTypename);\n}\n\nexport function parseUserIdFromCookieString(cookieString: string): string {\n  const logInCookieKeyIndex = cookieString.indexOf(\"SHOPPER_LOGGED_IN\");\n\n  if (logInCookieKeyIndex < 0) {\n    return \"\";\n  }\n\n  const logInCookieKeyValueSeperatorIndex = cookieString.indexOf(\"=\", logInCookieKeyIndex);\n\n  if (logInCookieKeyValueSeperatorIndex < 0) {\n    return \"\";\n  }\n\n  const userIdStart = logInCookieKeyValueSeperatorIndex + 1;\n  let userIdEnd = cookieString.indexOf(\";\", userIdStart);\n  if (userIdEnd < 0) {\n    userIdEnd = cookieString.length;\n  }\n\n  return cookieString.substring(userIdStart, userIdEnd).trim();\n}\n","import { ShoppingOutlined } from \"@ant-design/icons\";\nimport { Empty, List } from \"antd\";\nimport React from \"react\";\nimport { ShoppingListItem } from \"./ShoppingListItem\";\nimport { ShoppingListItemComponent } from \"./ShoppingListItemComponent\";\n\nexport enum ShoppingListFilter {\n  all,\n  checked,\n  unchecked\n}\n\nexport interface ShoppingListComponentProps {\n  className?: string;\n  assigneeCandidates?: string[];\n  shoppingList: ShoppingListItem[];\n  filter: ShoppingListFilter;\n  onItemCheckedChange: (item: ShoppingListItem, checked: boolean) => void;\n  onItemDeleted: (item: ShoppingListItem) => Promise<void>;\n  onItemAssigneeChange?: (item: ShoppingListItem, assignee: string) => void;\n}\n\nfunction ShoppingListComponent(props: ShoppingListComponentProps) {\n  const filteredList = props.shoppingList.filter(item => {\n    switch (props.filter) {\n      case ShoppingListFilter.all:\n        return true;\n      case ShoppingListFilter.checked:\n        return item.checked;\n      case ShoppingListFilter.unchecked:\n        return !item.checked;\n    }\n  });\n\n  if (filteredList.length === 0) {\n    return (\n      <Empty\n        description=\"Kaufstu was!?\"\n        image={<ShoppingOutlined style={{ fontSize: \"6em\" }} />}\n        className={props.className}\n      />\n    );\n  }\n\n  return (\n    <List\n      className={props.className}\n      dataSource={filteredList}\n      size=\"small\"\n      renderItem={item => {\n        return (\n          <ShoppingListItemComponent\n            item={item}\n            assigneeCandidates={props.assigneeCandidates}\n            onItemCheckedChange={checked => props.onItemCheckedChange(item, checked)}\n            onItemDeleted={() => props.onItemDeleted(item)}\n            onItemAssigneeChange={assignee => {\n              if (props.onItemAssigneeChange) {\n                props.onItemAssigneeChange(item, assignee);\n              }\n            }}\n          />\n        );\n      }}\n    />\n  );\n}\n\nexport default ShoppingListComponent;\n","import { DeleteFilled } from \"@ant-design/icons\";\nimport { Button, Checkbox, Col, Input, List, Modal, Row } from \"antd\";\nimport React, { Fragment, useState } from \"react\";\nimport { ShoppingListItem } from \"./ShoppingListItem\";\nimport { unique } from \"./utils\";\n\nexport interface ShoppingListItemComponentProps {\n  item: ShoppingListItem;\n  assigneeCandidates?: string[];\n  onItemCheckedChange: (checked: boolean) => void;\n  onItemDeleted: () => Promise<void>;\n  onItemAssigneeChange?: (assignee: string) => void;\n}\n\nexport function ShoppingListItemComponent(props: ShoppingListItemComponentProps) {\n  const assigneeCandidates = props.assigneeCandidates ? unique(props.assigneeCandidates.filter(e => e !== \"\")) : [];\n\n  const [deletingItem, setDeletingItem] = useState(false);\n  const [newAssignee, setNewAssignee] = useState(\"\");\n  const [showNewAssigneeSelection, setShowNewAssigneeSelection] = useState(false);\n\n  const handleAssigneeSelectionOk = () => {\n    setShowNewAssigneeSelection(false);\n\n    if (props.onItemAssigneeChange) {\n      props.onItemAssigneeChange(newAssignee);\n    }\n  };\n\n  const handleAssigneeSelectionCancel = () => {\n    setShowNewAssigneeSelection(false);\n  };\n\n  return (\n    <Fragment>\n      <List.Item\n        className=\"shopping-list-item\"\n        key={props.item._id}\n        style={{\n          textDecoration: props.item.checked ? \"line-through\" : \"none\"\n        }}\n        onClick={() => props.onItemCheckedChange(!props.item.checked)}\n      >\n        <Row className=\"shopping-list-item-row\">\n          <Col span={20}>\n            <Checkbox style={{ marginRight: \"1em\" }} checked={props.item.checked} />\n            {props.item.name}\n            {props.assigneeCandidates && props.item.assignee ? \" kauft\" : \"\"}\n            {props.assigneeCandidates && (\n              <span\n                className={\n                  \"assignee-candidate\" +\n                  (props.item.assignee === \"\" ? \" assignee-candidate-placeholder\" : \" assignee-candidate-set\")\n                }\n                onClick={e => {\n                  e.stopPropagation();\n                  setNewAssignee(\"\");\n                  setShowNewAssigneeSelection(true);\n                }}\n              >\n                {props.item.assignee === \"\" ? \"Wer kauft das?\" : props.item.assignee}\n              </span>\n            )}\n          </Col>\n          <Col span={4}>\n            <Button\n              key=\"delete-item-btn\"\n              type=\"dashed\"\n              size=\"small\"\n              loading={deletingItem}\n              onClick={async e => {\n                e.stopPropagation();\n                setDeletingItem(true);\n                await props.onItemDeleted();\n                setDeletingItem(false);\n              }}\n              data-testid=\"delete-item-btn\"\n              className=\"delete-item-btn\"\n            >\n              {deletingItem ? <div /> : <DeleteFilled alt={\"Eintrag entfernen\"} />}\n            </Button>\n          </Col>\n        </Row>\n      </List.Item>\n      <Modal\n        title={\n          <div>\n            <span>Wer kauft das?</span>\n            <span className=\"assignee-select-dialog-subtitle\">Wählstu oder sagstu!</span>\n          </div>\n        }\n        visible={showNewAssigneeSelection}\n        okButtonProps={{ disabled: newAssignee === \"\" }}\n        onOk={handleAssigneeSelectionOk}\n        onCancel={handleAssigneeSelectionCancel}\n        footer={[\n          <Button key=\"cancel\" onClick={handleAssigneeSelectionCancel}>\n            Egal\n          </Button>,\n          <Button\n            key=\"delete\"\n            danger\n            disabled={props.item.assignee === \"\"}\n            onClick={() => {\n              setShowNewAssigneeSelection(false);\n\n              if (props.onItemAssigneeChange) {\n                props.onItemAssigneeChange(\"\");\n              }\n            }}\n          >\n            Niemand\n          </Button>,\n          <Button key=\"ok\" type=\"primary\" onClick={handleAssigneeSelectionOk}>\n            Zuweisen\n          </Button>\n        ]}\n      >\n        {assigneeCandidates.length !== 0 ? (\n          <List\n            dataSource={assigneeCandidates}\n            split={false}\n            renderItem={assignee => (\n              <List.Item\n                className={\"assignee-candidate-item\" + (props.item.assignee === assignee ? \" current-candidate\" : \"\")}\n                key={assignee}\n                onClick={() => {\n                  setShowNewAssigneeSelection(false);\n\n                  if (props.onItemAssigneeChange) {\n                    props.onItemAssigneeChange(assignee);\n                  }\n                }}\n              >\n                {assignee}\n              </List.Item>\n            )}\n          />\n        ) : (\n          <div />\n        )}\n        <Input\n          placeholder={\"Sagstu!\"}\n          value={newAssignee}\n          onChange={e => setNewAssignee(e.target.value)}\n          onPressEnter={handleAssigneeSelectionOk}\n        />\n      </Modal>\n    </Fragment>\n  );\n}\n","import { Button, Col, Input, Row } from \"antd\";\nimport React, { useState } from \"react\";\nimport ShoppingListComponent, { ShoppingListFilter } from \"./ShoppingListComponent\";\nimport { ShoppingListItem } from \"./ShoppingListItem\";\n\nexport interface EditableShoppingListComponentProps {\n  shoppingList: ShoppingListItem[];\n  filter: ShoppingListFilter;\n  onItemCheckedChange: (item: ShoppingListItem, checked: boolean) => void;\n  onItemDeleted: (item: ShoppingListItem) => Promise<void>;\n  onItemAssigneeChange: (item: ShoppingListItem, assignee: string) => void;\n  onCreateNewItem: (name: string) => Promise<void>;\n}\n\nfunction EditableShoppingListComponent(props: EditableShoppingListComponentProps) {\n  const [newItemName, setNewItemName] = useState<string>(\"\");\n  const [creatingItem, setCreatingItem] = useState<boolean>(false);\n\n  const assigneeCandidates: string[] = props.shoppingList.map(item => item.assignee);\n\n  const createNewItem = async () => {\n    if (newItemName === \"\") {\n      return;\n    }\n\n    setCreatingItem(true);\n    await props.onCreateNewItem(newItemName);\n    setNewItemName(\"\");\n    setCreatingItem(false);\n  };\n\n  return (\n    <div className=\"editable-shopping-list-component\">\n      <ShoppingListComponent\n        className=\"editable-shopping-list-component-list\"\n        shoppingList={props.shoppingList}\n        filter={props.filter}\n        assigneeCandidates={assigneeCandidates}\n        onItemAssigneeChange={props.onItemAssigneeChange}\n        onItemCheckedChange={props.onItemCheckedChange}\n        onItemDeleted={props.onItemDeleted}\n      />\n      <div className=\"editable-shopping-list-component-controls\">\n        <Row gutter={[16, 8]}>\n          <Col xs={20} sm={20} md={20} lg={20} xl={20}>\n            <Input\n              value={newItemName}\n              onChange={event => setNewItemName(event.target.value)}\n              onPressEnter={createNewItem}\n              disabled={creatingItem}\n            />\n          </Col>\n          <Col xs={0} sm={0} md={4} lg={4} xl={4}>\n            <Button\n              type=\"primary\"\n              style={{ width: \"100%\" }}\n              disabled={newItemName === \"\"}\n              onClick={createNewItem}\n              loading={creatingItem}\n            >\n              Hinzufügen\n            </Button>\n          </Col>\n\n          <Col xs={4} sm={4} md={0} lg={0} xl={0}>\n            <Button\n              className=\"editable-shopping-list-small-add-button\"\n              type=\"primary\"\n              disabled={newItemName === \"\"}\n              onClick={createNewItem}\n              loading={creatingItem}\n            >\n              {creatingItem ? \"\" : \"+\"}\n            </Button>\n          </Col>\n        </Row>\n      </div>\n    </div>\n  );\n}\n\nexport default EditableShoppingListComponent;\n","import {\n  BorderOutlined,\n  CheckSquareOutlined,\n  CloseOutlined,\n  DeleteFilled,\n  DeleteOutlined,\n  MenuOutlined,\n  ShoppingCartOutlined,\n  UsergroupDeleteOutlined\n} from \"@ant-design/icons\";\nimport { useMutation, useQuery, useSubscription } from \"@apollo/react-hooks\";\nimport { Button, Col, Drawer, Menu, Modal, notification, PageHeader, Radio, Row, Spin, Tabs } from \"antd\";\nimport { ApolloError } from \"apollo-client\";\nimport React, { Fragment, useEffect, useRef, useState } from \"react\";\nimport EditableShoppingListComponent from \"./EditableShoppingListComponent\";\nimport {\n  ClearShoppingListData,\n  CLEAR_LIST,\n  CreateShoppingListItemData,\n  CREATE_ITEM,\n  DeleteShoppingListItemData,\n  DELETE_ITEM,\n  GET_ITEMS,\n  ShoppingListChangedData,\n  ShoppingListChangedVariables,\n  ShoppingListItemsData,\n  SHOPPING_LIST_CHANGED,\n  UpdateItemData,\n  UpdateItemVariables,\n  UPDATEM_ITEMS\n} from \"./GraphQLDefinitions\";\nimport ShoppingListComponent, { ShoppingListFilter } from \"./ShoppingListComponent\";\nimport { ShoppingListItem } from \"./ShoppingListItem\";\nimport { groupBy, omitTypenames } from \"./utils\";\n\nconst { TabPane } = Tabs;\n\nexport interface ShoppingListBoardProps {\n  userId: string;\n  onAuthenticationError?: () => void;\n}\n\nfunction ShoppingListBoard(props: ShoppingListBoardProps) {\n  const handleApolloError = (error: ApolloError) => {\n    if (props.onAuthenticationError && error.graphQLErrors.find(e => e?.extensions?.code === 401)) {\n      props.onAuthenticationError();\n    } else {\n      notification.error({\n        message: error.networkError ? \"Uuups ein Fehler ist aufgetreten...\" : error.name,\n        description: error.networkError ? \"Der Server antwortet nicht :(\" : error.message\n      });\n    }\n  };\n\n  const { loading: loadingShoppingListItems, data: shoppingListData } = useQuery<ShoppingListItemsData>(GET_ITEMS, {\n    onError: handleApolloError\n  });\n\n  const numberOfShoppingListItems = shoppingListData ? shoppingListData.shoppingListItems.length : 0;\n\n  const newItemCreatedRef = useRef(false);\n  const mainTabContentRef = useRef<HTMLDivElement>(null);\n\n  const [createItem] = useMutation<CreateShoppingListItemData, { name: string }>(CREATE_ITEM, {\n    onError: handleApolloError,\n    update: (cache, { data }) => {\n      const createdItem = data!.createShoppingListItem;\n      const { shoppingListItems: cachedList } = cache.readQuery<ShoppingListItemsData>({ query: GET_ITEMS })!;\n\n      newItemCreatedRef.current = true;\n\n      if (cachedList.find(item => item._id === createdItem._id)) {\n        return; // Item already added via subscription\n      }\n\n      cache.writeQuery<ShoppingListItemsData>({\n        query: GET_ITEMS,\n        data: {\n          shoppingListItems: [...cachedList, createdItem]\n        }\n      });\n    }\n  });\n\n  useEffect(() => {\n    if (!newItemCreatedRef.current) {\n      return;\n    }\n\n    if (mainTabContentRef.current === null) {\n      return;\n    }\n\n    const items = mainTabContentRef.current.getElementsByClassName(\"shopping-list-item\");\n\n    if (items.length > 0) {\n      items[items.length - 1].scrollIntoView({ behavior: \"smooth\" });\n    }\n\n    newItemCreatedRef.current = false;\n  }, [numberOfShoppingListItems, newItemCreatedRef.current]);\n\n  const [updateItems] = useMutation<UpdateItemData, UpdateItemVariables>(UPDATEM_ITEMS, {\n    onError: handleApolloError\n  });\n\n  const [deleteItem] = useMutation<DeleteShoppingListItemData, { id: string }>(DELETE_ITEM, {\n    onError: handleApolloError,\n    update: (cache, { data }) => {\n      const deletedItemId = data!.deleteShoppingListItem;\n      const { shoppingListItems: cachedList } = cache.readQuery<ShoppingListItemsData>({ query: GET_ITEMS })!;\n      cache.writeQuery<ShoppingListItemsData>({\n        query: GET_ITEMS,\n        data: {\n          shoppingListItems: cachedList.filter(item => item._id !== deletedItemId)\n        }\n      });\n    }\n  });\n\n  const [clearList] = useMutation<ClearShoppingListData, {}>(CLEAR_LIST, {\n    onError: handleApolloError,\n    update: cache => {\n      cache.writeQuery<ShoppingListItemsData>({\n        query: GET_ITEMS,\n        data: {\n          shoppingListItems: []\n        }\n      });\n    }\n  });\n\n  useSubscription<ShoppingListChangedData, ShoppingListChangedVariables>(SHOPPING_LIST_CHANGED, {\n    onSubscriptionData: options => {\n      if (!options.subscriptionData.data) {\n        return;\n      }\n\n      const changeEvents = options.subscriptionData.data.shoppingListChanged;\n      const { shoppingListItems: cachedList } = options.client.readQuery<ShoppingListItemsData>({\n        query: GET_ITEMS\n      })!;\n\n      const updatedList = [...cachedList];\n\n      for (const changeEvent of changeEvents) {\n        const existingItemIndex = cachedList.findIndex(item => item._id === changeEvent.item._id);\n\n        switch (changeEvent.type) {\n          case \"ITEM_CHANGED\":\n            updatedList[existingItemIndex] = changeEvent.item;\n            break;\n\n          case \"ITEM_CREATED\":\n            if (existingItemIndex < 0) {\n              updatedList.push(changeEvent.item);\n            }\n            break;\n\n          case \"ITEM_DELETED\":\n            if (existingItemIndex >= 0) {\n              updatedList.splice(existingItemIndex, 1);\n            }\n            break;\n        }\n      }\n\n      options.client.writeQuery<ShoppingListItemsData>({\n        query: GET_ITEMS,\n        data: {\n          shoppingListItems: updatedList\n        }\n      });\n    },\n    variables: {\n      userId: props.userId\n    },\n    skip: props.userId === \"\"\n  });\n\n  const createNewItem = async (name: string) => {\n    await createItem({ variables: { name } });\n  };\n\n  const shoppingList = shoppingListData?.shoppingListItems || [];\n\n  const itemsGroupedByAssignee = groupBy(\n    shoppingList.filter(item => !!item.assignee),\n    item => item.assignee,\n    item => item\n  );\n\n  const assigneeShoppingLists = Array.from(itemsGroupedByAssignee.entries());\n\n  const handleUpdateItems = (updatedItems: ShoppingListItem[]) => {\n    updateItems({\n      variables: {\n        items: omitTypenames(updatedItems) // The ShoppingListItemUpdate must not have a __typename field\n      },\n      optimisticResponse: {\n        updateShoppingListItems: updatedItems\n      }\n    });\n  };\n\n  const handleItemCheckedStateChange = (item: ShoppingListItem, checked: boolean) => {\n    handleUpdateItems([{ ...item, checked }]);\n  };\n\n  const handleItemAssigneeChange = (item: ShoppingListItem, assignee: string) => {\n    handleUpdateItems([{ ...item, assignee }]);\n  };\n\n  const handleItemDeleted = async (item: ShoppingListItem) => {\n    await deleteItem({\n      variables: {\n        id: item._id\n      }\n    });\n  };\n\n  const [activeTabKey, setActiveTabKey] = useState(\"main\");\n\n  const getActiveShoppingList = () => {\n    const assigneeList = itemsGroupedByAssignee.get(activeTabKey);\n\n    if (assigneeList) {\n      return assigneeList;\n    }\n\n    return shoppingList;\n  };\n\n  const createSubTitle = () => {\n    const activeList = getActiveShoppingList();\n\n    const itemsToBuy = activeList.filter(item => !item.checked).length;\n\n    return `${itemsToBuy}/${activeList.length}`;\n  };\n\n  const [activeFilter, setActiveFilter] = useState(ShoppingListFilter.all);\n\n  const renderToolbar = () => {\n    return (\n      <Row gutter={4}>\n        <Col>{renderListHeader()}</Col>\n        <Col>{renderMenuButton()}</Col>\n      </Row>\n    );\n  };\n\n  const renderListHeader = () => {\n    return (\n      <Radio.Group\n        buttonStyle=\"solid\"\n        size=\"small\"\n        value={activeFilter}\n        onChange={event => setActiveFilter(event.target.value)}\n      >\n        <Radio.Button value={ShoppingListFilter.all} data-testid=\"show-all-btn\">\n          <ShoppingCartOutlined></ShoppingCartOutlined>\n        </Radio.Button>\n        <Radio.Button value={ShoppingListFilter.checked} data-testid=\"show-checked-btn\">\n          <CheckSquareOutlined />\n        </Radio.Button>\n        <Radio.Button value={ShoppingListFilter.unchecked} data-testid=\"show-unchecked-btn\">\n          <BorderOutlined />\n        </Radio.Button>\n      </Radio.Group>\n    );\n  };\n\n  const renderMenuButton = () => {\n    return (\n      <Button size=\"small\" onClick={() => setShowMenu(true)} data-testid=\"menu-btn\">\n        <MenuOutlined />\n      </Button>\n    );\n  };\n\n  const [showMenu, setShowMenu] = useState(false);\n\n  return (\n    <Fragment>\n      <div className=\"shopping-list-board\">\n        <PageHeader\n          title={\n            <span>\n              <img className=\"kaufhansel-image\" src=\"favicon.svg\" />\n              <span>Kaufhansel</span>\n            </span>\n          }\n          subTitle={createSubTitle()}\n          className=\"shopping-list-board-header\"\n          extra={renderToolbar()}\n        />\n        <Spin\n          spinning={loadingShoppingListItems}\n          tip=\"Wird aktualisiert...\"\n          wrapperClassName=\"shopping-list-board-spinner\"\n        >\n          <Tabs\n            defaultActiveKey=\"main\"\n            activeKey={activeTabKey}\n            onChange={setActiveTabKey}\n            className=\"shopping-list-board-tabs\"\n            animated={false}\n          >\n            <TabPane tab=\"Alle\" key=\"main\">\n              <div ref={mainTabContentRef} className=\"shopping-list-board-main-tab-content\">\n                <EditableShoppingListComponent\n                  shoppingList={shoppingList}\n                  filter={activeFilter}\n                  onItemAssigneeChange={handleItemAssigneeChange}\n                  onItemCheckedChange={handleItemCheckedStateChange}\n                  onItemDeleted={handleItemDeleted}\n                  onCreateNewItem={createNewItem}\n                />\n              </div>\n            </TabPane>\n\n            {assigneeShoppingLists.map(([assignee, assigneeShoppingList]) => {\n              return (\n                <TabPane tab={assignee} key={assignee}>\n                  <ShoppingListComponent\n                    className=\"shopping-list-board-readonly-list\"\n                    shoppingList={assigneeShoppingList}\n                    filter={activeFilter}\n                    onItemCheckedChange={handleItemCheckedStateChange}\n                    onItemDeleted={handleItemDeleted}\n                  />\n                </TabPane>\n              );\n            })}\n          </Tabs>\n        </Spin>\n      </div>\n      <Drawer visible={showMenu} closable={false} onClose={() => setShowMenu(false)}>\n        <Menu mode=\"inline\" selectable={false}>\n          <Menu.Item\n            onClick={() => {\n              handleUpdateItems(\n                shoppingList.map(item => {\n                  return { ...item, checked: false };\n                })\n              );\n              setShowMenu(false);\n            }}\n          >\n            <BorderOutlined />\n            Alles nochmal kaufen\n          </Menu.Item>\n          <Menu.Item\n            onClick={() => {\n              handleUpdateItems(\n                shoppingList.map(item => {\n                  return { ...item, assignee: \"\" };\n                })\n              );\n              setShowMenu(false);\n            }}\n          >\n            <UsergroupDeleteOutlined />\n            Niemand kauft\n          </Menu.Item>\n          <Menu.Item\n            onClick={() => {\n              Modal.confirm({\n                title: \"Wollen Sie die Einkaufsliste wirklich leeren?\",\n                onOk: () => clearList(),\n                okText: \"Ja\",\n                cancelText: \"Nein\",\n                icon: <DeleteFilled style={{ color: \"#555555\" }} />,\n                okType: \"danger\"\n              });\n              setShowMenu(false);\n            }}\n          >\n            <DeleteOutlined />\n            Alles löschen...\n          </Menu.Item>\n          <Menu.Item onClick={() => setShowMenu(false)}>\n            <CloseOutlined />\n            Menü Schließen\n          </Menu.Item>\n        </Menu>\n      </Drawer>\n    </Fragment>\n  );\n}\n\nexport default ShoppingListBoard;\n","import { ApolloProvider } from \"@apollo/react-hooks\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport ApolloClient from \"apollo-client\";\nimport { ApolloLink, split } from \"apollo-link\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { RetryLink } from \"apollo-link-retry\";\nimport { WebSocketLink } from \"apollo-link-ws\";\nimport { getMainDefinition } from \"apollo-utilities\";\nimport React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter, Redirect, Route, Switch, useHistory } from \"react-router-dom\";\nimport \"./index.css\";\nimport LoginComponent from \"./LoginComponent\";\nimport ShoppingListBoard from \"./ShoppingListBoard\";\nimport { parseUserIdFromCookieString } from \"./utils\";\n\nconst websocketProtocol = window.location.protocol === \"https:\" ? \"wss\" : \"ws\";\nconst websocketUri = `${websocketProtocol}://${window.location.host}/graphql`;\n\nconst httpLink = new HttpLink({ uri: \"/graphql\" });\n\nconst wsLink = new WebSocketLink({\n  uri: websocketUri,\n  options: {\n    reconnect: true\n  }\n});\n\nconst splitLink = split(\n  ({ query }) => {\n    const definition = getMainDefinition(query);\n    return definition.kind === \"OperationDefinition\" && definition.operation === \"subscription\";\n  },\n  wsLink,\n  httpLink\n);\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: ApolloLink.from([\n    new RetryLink({\n      delay: {\n        initial: 300,\n        max: 5000,\n        jitter: true\n      },\n      attempts: {\n        max: Infinity,\n        retryIf: (error, operation) => {\n          return operation.operationName !== \"shoppingListItems\" && !!error;\n        }\n      }\n    }),\n    splitLink\n  ])\n});\n\nfunction ShoppingListApp() {\n  const [loggedIn, setLoggedIn] = useState(parseUserIdFromCookieString(document.cookie) !== \"\");\n  const [userId, setUserId] = useState(parseUserIdFromCookieString(document.cookie));\n  const history = useHistory();\n\n  return (\n    <Switch>\n      <Route path=\"/login\">\n        <LoginComponent\n          onLoginSuccess={userId => {\n            setUserId(userId);\n            setLoggedIn(true);\n            history.replace(\"/\");\n          }}\n        />\n      </Route>\n      <Route\n        path=\"/\"\n        render={({ location }) => {\n          if (loggedIn) {\n            return <ShoppingListBoard onAuthenticationError={() => setLoggedIn(false)} userId={userId} />;\n          } else {\n            return <Redirect to={{ pathname: \"/login\", state: { from: location } }} />;\n          }\n        }}\n      ></Route>\n    </Switch>\n  );\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <BrowserRouter>\n        <ShoppingListApp />\n      </BrowserRouter>\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}